{"is_source_file": true, "format": "Python", "description": "Redis-based rate limiting implementation that provides distributed rate limiting functionality using Redis as the backend.", "external_files": ["app.core.cache.redis_cache", "app.core.config.settings", "fastapi"], "external_methods": [], "published": ["rate_limit", "get_rate_limiter", "RateLimitDependency"], "classes": [{"name": "RateLimitConfig", "description": "A data class for holding rate limit configuration settings including the maximum requests, period in seconds, and Redis key prefix."}, {"name": "RateLimiter", "description": "A class that implements Redis-based rate limiting functionality and ensures a singleton instance."}, {"name": "RateLimitDependency", "description": "A class that acts as a FastAPI dependency for enforcing rate limits in endpoints."}], "methods": [{"name": "\"RateLimiter\" __new__(cls)", "description": "Creates a singleton instance of RateLimiter.", "scope": "RateLimiter", "scopeKind": "class"}, {"name": "None initialize(self)", "description": "Initializes the rate limiter instance during application startup.", "scope": "RateLimiter", "scopeKind": "class"}, {"name": "None close(self)", "description": "Closes the rate limiter instance during application shutdown.", "scope": "RateLimiter", "scopeKind": "class"}, {"name": "Tuple[bool,int,int] is_rate_limited( self, key: str, config: RateLimitConfig )", "description": "Checks if a request is rate limited based on a unique client key and configuration.", "scope": "RateLimiter", "scopeKind": "class"}, {"name": "str get_client_identifier(self, request: Request)", "description": "Generates a unique client identifier based on request data.", "scope": "RateLimiter", "scopeKind": "class"}, {"name": "Callable rate_limit( requests: Optional[int] = None, period_seconds: Optional[int] = None, prefix: str = \"ratelimit\", )", "description": "A decorator for applying rate limiting to API endpoints.", "scope": "", "scopeKind": ""}, {"name": "None __call__(self, request: Request)", "description": "Checks if the request is rate limited and raises HTTP exception if the limit is exceeded.", "scope": "RateLimitDependency", "scopeKind": "class"}, {"name": "None disable_for_testing(cls, disabled: bool = True)", "description": "Class method to temporarily disable rate limiting for testing purposes.", "scope": "RateLimitDependency", "scopeKind": "class"}, {"name": "__init__( self, requests: Optional[int] = None, period_seconds: Optional[int] = None, prefix: str = \"ratelimit\", )", "scope": "RateLimitDependency", "scopeKind": "class", "description": "unavailable"}, {"name": "redis.Redis client(self)", "scope": "RateLimiter", "scopeKind": "class", "description": "unavailable"}, {"name": "Callable decorator(func: Callable)", "scope": "rate_limit", "scopeKind": "function", "description": "unavailable"}, {"name": "RateLimiter get_rate_limiter()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Any wrapper(request: Request, *args: Any, **kwargs: Any)", "scope": "rate_limit.decorator", "scopeKind": "function", "description": "unavailable"}], "calls": ["self.client.pipeline", "self.client.zadd", "self.client.zremrangebyscore", "self.client.zcard", "self.client.expire"], "search-terms": ["rate limiting", "Redis", "RateLimiter"], "state": 2, "file_id": 29, "knowledge_revision": 112, "git_revision": "3ca38c1a5bb82a63be25191740c83663bd590a04", "revision_history": [{"65": ""}, {"111": "3ca38c1a5bb82a63be25191740c83663bd590a04"}, {"112": "3ca38c1a5bb82a63be25191740c83663bd590a04"}], "ctags": [{"_type": "tag", "name": "RateLimitConfig", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^class RateLimitConfig:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RateLimitDependency", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^class RateLimitDependency:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RateLimiter", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^class RateLimiter:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__call__", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    async def __call__(self, request: Request) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, request: Request)", "scope": "RateLimitDependency", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    def __init__($/", "language": "Python", "kind": "member", "signature": "( self, requests: Optional[int] = None, period_seconds: Optional[int] = None, prefix: str = \"ratelimit\", )", "scope": "RateLimitDependency", "scopeKind": "class"}, {"_type": "tag", "name": "__new__", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    def __new__(cls) -> \"RateLimiter\":$/", "language": "Python", "typeref": "typename:\"RateLimiter\"", "kind": "member", "signature": "(cls)", "scope": "RateLimiter", "scopeKind": "class"}, {"_type": "tag", "name": "_initialized", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    _initialized: bool = False$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "RateLimiter", "scopeKind": "class"}, {"_type": "tag", "name": "_instance", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    _instance: Optional[\"RateLimiter\"] = None$/", "language": "Python", "typeref": "typename:Optional[\"RateLimiter\"]", "kind": "variable", "scope": "RateLimiter", "scopeKind": "class"}, {"_type": "tag", "name": "_testing_disabled", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    _testing_disabled = False$/", "language": "Python", "kind": "variable", "scope": "RateLimitDependency", "scopeKind": "class"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    def client(self) -> redis.Redis:$/", "language": "Python", "typeref": "typename:redis.Redis", "kind": "member", "signature": "(self)", "scope": "RateLimiter", "scopeKind": "class"}, {"_type": "tag", "name": "close", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    async def close(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "RateLimiter", "scopeKind": "class"}, {"_type": "tag", "name": "decorator", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    def decorator(func: Callable) -> Callable:$/", "file": true, "language": "Python", "typeref": "typename:Callable", "kind": "function", "signature": "(func: Callable)", "scope": "rate_limit", "scopeKind": "function"}, {"_type": "tag", "name": "disable_for_testing", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    def disable_for_testing(cls, disabled: bool = True) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(cls, disabled: bool = True)", "scope": "RateLimitDependency", "scopeKind": "class"}, {"_type": "tag", "name": "get_client_identifier", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    def get_client_identifier(self, request: Request) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, request: Request)", "scope": "RateLimiter", "scopeKind": "class"}, {"_type": "tag", "name": "get_rate_limiter", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^async def get_rate_limiter() -> RateLimiter:$/", "language": "Python", "typeref": "typename:RateLimiter", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "initialize", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    async def initialize(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "RateLimiter", "scopeKind": "class"}, {"_type": "tag", "name": "is_rate_limited", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    async def is_rate_limited($/", "language": "Python", "typeref": "typename:Tuple[bool,int,int]", "kind": "member", "signature": "( self, key: str, config: RateLimitConfig )", "scope": "RateLimiter", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "prefix", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^    prefix: str = \"ratelimit\"$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RateLimitConfig", "scopeKind": "class"}, {"_type": "tag", "name": "rate_limit", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^def rate_limit($/", "language": "Python", "typeref": "typename:Callable", "kind": "function", "signature": "( requests: Optional[int] = None, period_seconds: Optional[int] = None, prefix: str = \"ratelimit\", )"}, {"_type": "tag", "name": "rate_limiter", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^rate_limiter = RateLimiter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "redis", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^import redis.asyncio as redis$/", "language": "Python", "kind": "namespace", "nameref": "module:redis.asyncio"}, {"_type": "tag", "name": "wrapper", "path": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "pattern": "/^        async def wrapper(request: Request, *args: Any, **kwargs: Any) -> Any:$/", "file": true, "language": "Python", "typeref": "typename:Any", "kind": "function", "signature": "(request: Request, *args: Any, **kwargs: Any)", "scope": "rate_limit.decorator", "scopeKind": "function"}], "filename": "/home/kavia/workspace/API-Performance-Optimization-L.0.8/app/core/rate_limit.py", "hash": "1b9e0c3f6bebebf77a81dca9c310e8f1", "format-version": 4, "code-base-name": "default", "fields": [{"name": "bool _initialized", "scope": "RateLimiter", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[\"RateLimiter\"] _instance", "scope": "RateLimiter", "scopeKind": "class", "description": "unavailable"}, {"name": "_testing_disabled = False", "scope": "RateLimitDependency", "scopeKind": "class", "description": "unavailable"}, {"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str prefix", "scope": "RateLimitConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "rate_limiter = RateLimiter()", "scope": "", "scopeKind": "", "description": "unavailable"}]}